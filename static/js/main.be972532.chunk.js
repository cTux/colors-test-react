(this["webpackJsonpcolors-test-react"]=this["webpackJsonpcolors-test-react"]||[]).push([[0],{20:function(e,t,n){e.exports=n(35)},30:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=n(2),s=n(3),u=n(4),l=n(6),f=n(5),p=(n(30),n(15)),d=(n(31),function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderConfig",value:function(){var e=this;return r.a.createElement("div",{className:"app-start-screen-config"},r.a.createElement("div",{className:"app-start-screen-config-size"},r.a.createElement("div",{className:"app-start-screen-config-size-title"},"Board size"),r.a.createElement("div",{className:"app-start-screen-config-sizes option-container"},this.props.config.sizes.map((function(t,n){var a=p({option:!0,"app-start-screen-config-sizes-size":!0,"option-default":t.isDefault});return r.a.createElement("div",{key:n,className:a,onClick:function(){return e.props.setConfig("sizes",t.value)}},t.value)})))),r.a.createElement("div",{className:"app-start-screen-config-difference"},r.a.createElement("div",{className:"app-start-screen-config-difference-title"},"Color differences"),r.a.createElement("div",{className:"app-start-screen-config-differences option-container"},this.props.config.differences.map((function(t,n){var a=p({option:!0,"app-start-screen-config-differences-difference":!0,"option-default":t.isDefault});return r.a.createElement("div",{key:n,className:a,onClick:function(){return e.props.setConfig("differences",t.value)}},t.value)})))))}},{key:"render",value:function(){if(!this.props.game.isStarted)return this.props.game.isFinished?r.a.createElement("div",{className:"app-start-screen"},r.a.createElement("div",{className:"app-start-screen-title"},"Correct: ",this.props.points.correct,", Accuracy: ",this.props.points.accuracy,"%, Points: ",this.props.points.tg),this.renderConfig(),r.a.createElement("div",{className:"app-start-screen-btn-container"},r.a.createElement("button",{className:"app-start-game-btn",onClick:this.props.startNewGame},"Start"))):r.a.createElement("div",{className:"app-start-screen"},r.a.createElement("div",{className:"app-start-screen-title"},"Find a different color!"),this.renderConfig(),r.a.createElement("div",{className:"app-start-screen-btn-container"},r.a.createElement("button",{className:"app-start-game-btn",onClick:this.props.startNewGame},"Start")))}}]),n}(a.Component)),v=n(1),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Math.random()*(e-t+1)>>0)+t},b=n(19),g=function(e,t){var n=function e(){var t=[m(255),m(255),m(255)];return t.some((function(e){return e>45}))?t:e()}(),a=e*e,r=new Array(a).fill(void 0).map((function(){return{isCorrect:!1,value:n}})),c=m(a-1),o=r[c];return r[c]=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,n={isCorrect:!0,value:Object(b.a)(e.value)},a=1===m(1)?1:-1;t;){var r=m(2);n.value[r]+=a,n.value[r]<0?n.value[r]=0:n.value[r]>255?n.value[r]=255:t--}return n}(o,t),r},h=function(e){return e.config.differences.find((function(e){return e.isDefault})).value},O=function(e){return e.config.sizes.find((function(e){return e.isDefault})).value},E=function(e){return Object(v.a)(Object(v.a)({},e),{},{game:Object(v.a)(Object(v.a)({},e.game),{},{isStarted:!0,isFinished:!1,secondsLeft:60}),board:Object(v.a)(Object(v.a)({},e.board),{},{colors:g(O(e),h(e))}),points:{total:0,correct:0,wrong:0,accuracy:0,tg:0}})},j=n(10),N=n(7),C=n.n(N),y={differences:[{value:50,isDefault:!0},{value:35,isDefault:!1},{value:20,isDefault:!1}],sizes:[{value:2,isDefault:!0},{value:3,isDefault:!1},{value:4,isDefault:!1}]},k=C()("version");k&&"1"!==k&&C.a.remove("config"),C()("version","1");var w=function(e,t){var n=t.payload,a=n.optionsName,r=n.value,c=Object(v.a)(Object(v.a)({},e.config),{},Object(j.a)({},a,e.config[a].map((function(e){return e.value===r?{value:r,isDefault:!0}:Object(v.a)(Object(v.a)({},e),{},{isDefault:!1})}))));return function(e){C()("config",e)}(c),Object(v.a)(Object(v.a)({},e),{},{config:c})},_=Object(i.b)((function(e){return{game:{isStarted:e.game.isStarted,isFinished:e.game.isFinished},config:e.config,points:{correct:e.points.correct,accuracy:e.points.accuracy,tg:e.points.tg}}}),(function(e){return{startNewGame:function(){return e({type:"NEW_GAME"})},setConfig:function(t,n){return e(function(e,t){return{type:"SET_CONFIG",payload:{optionsName:e,value:t}}}(t,n))}}}))(d),D=(n(34),function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).interval=-1,a.latestHover=-1,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.startInterval()}},{key:"componentWillUnmount",value:function(){this.endInterval()}},{key:"startInterval",value:function(){var e=this;this.interval=setInterval((function(){return e.props.decrementTimer()}),1e3)}},{key:"endInterval",value:function(){clearInterval(this.interval)}},{key:"handleHover",value:function(e){this.latestHover=e}},{key:"handleColorClick",value:function(e,t){this.latestHover===e&&this.props.colorClick(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app-board size-".concat(this.props.size)},r.a.createElement("div",{className:"app-board-timer"},this.props.game.secondsLeft),this.props.board.colors.map((function(t,n){return r.a.createElement("div",{key:n,className:"app-board-cell",style:{backgroundColor:"rgb(".concat(t.value.join(", "),")")},onMouseMove:function(){return e.handleHover(n)},onClick:function(){return e.handleColorClick(n,t.isCorrect)}})})))}}]),n}(a.Component)),S=function(e){var t=e.game.secondsLeft-1,n={};return t||(n.isStarted=!1,n.isFinished=!0),Object(v.a)(Object(v.a)({},e),{},{game:Object(v.a)(Object(v.a)(Object(v.a)({},e.game),n),{},{secondsLeft:t})})},I=function(e,t){var n=t.payload,a=e.points.total+1,r=e.points.correct+(n?1:0),c=e.points.wrong+(n?0:1),o=r/a*100>>0,i=Math.ceil(r*r/a*5);return Object(v.a)(Object(v.a)({},e),{},{points:{total:a,correct:r,wrong:c,accuracy:o,tg:i},board:Object(v.a)(Object(v.a)({},e.board),{},{colors:g(O(e),h(e))})})},z=Object(i.b)((function(e){return{game:{secondsLeft:e.game.secondsLeft},board:{colors:e.board.colors},size:O(e)}}),(function(e){return{decrementTimer:function(){return e({type:"DECREMENT_TIMER"})},colorClick:function(t){return e(function(e){return{type:"COLOR_CLICK",payload:e}}(t))}}}))(D),L=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},this.props.game.isStarted?r.a.createElement(z,null):r.a.createElement(_,null))}}]),n}(a.Component),M=Object(i.b)((function(e){return{game:{isStarted:e.game.isStarted}}}),(function(e){return{}}))(L),T=n(9),F={game:{isStarted:!1,isFinished:!1,secondsLeft:0},config:C()("config")||y,board:{colors:[]},points:{total:0,correct:0,wrong:0,accuracy:0,tg:0}},R=function(e){return Object(v.a)(Object(v.a)({},e),{},{board:Object(v.a)(Object(v.a)({},e.board),{},{colors:g(O(e),h(e))})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Object(T.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_GAME":return E(e);case"NEW_ROUND":return R(e);case"SET_CONFIG":return w(e,t);case"DECREMENT_TIMER":return S(e);case"COLOR_CLICK":return I(e,t);default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.be972532.chunk.js.map